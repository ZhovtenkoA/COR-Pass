<!DOCTYPE html>
<html>
    <head>
        <link rel="icon" type="image/png" href="favicon.png"> <!-- –°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–∞–≤–∏–∫–æ–Ω -->
        <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
       <!--  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"> -->
        <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
      <!--  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"> -->
       <!-- <link rel="manifest" href="/manifest.json">-->
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
        <meta name="theme-color" content="#ffffff">



        <title>–°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è</title>
        <link rel="stylesheet" type="text/css" href="styles.css">
    </head>
    <body>

        <div class="container">
            <button class="link-button" onclick="goBack()" data-translate="back-link-text"><<<–Ω–∞–∑–∞–¥<<<</button>
          <!--  <h1>–°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è</h1>  -->
            <h1 data-translate="heading">–°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è</h1>
      


        <form id="forgotPasswordForm">
                <label for="email" data-translate="email-label">–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞:</label>
                <input type="email" id="email" name="email" required>
                <br>
                <button type="button" id="sendCodeOnMail" onclick="sendVerificationCode()" data-translate="send-code-email">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –Ω–∞ –∏–º–µ–π–ª</button>
                <div id="confirmationMessage" class="confirmationMessage"></div>
                <div id="message" class="message"></div>
            

            <div id="verificationCodeWindow" style="display: none;">
                <input type="text" id="verificationCodeInput">
                <input type="button" id="sendVerifCode" value="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"  onclick="verifyVerificationCode()" data-translate="confirm-button">
                
            </div>


            <br>
       
             <div class="password-container" style="display: none;" >
             <!--  <label for="password">–ü–∞—Ä–æ–ª—å: </label>    -->
               <label for="password" data-translate="password-label">–ü–∞—Ä–æ–ª—å:</label>
               <div class="input-wrapper">
               <div id="password-message" class="error-message"></div>
               <input type="password" id="password" name="password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å"   data-translate="password-placeholder" minlength="8" maxlength="21" required>
              <!-- <input type="password" id="password"  placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" name="password"  minlength="8" maxlength="15" required> -->
               <span class="toggle-password" data-target="#password" required>üëÅÔ∏è</span>
             </div>
            </div>

            <br>
            
            <div class="password-container" style="display: none;">      
         <!--  <label for="confirm-password">–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å:</label> --> 
             <label for="confirm-password" data-translate="confirm-password-label">–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å:</label>
              <div class="input-wrapper">
            <!--   <input type="password" id="confirm-password" placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å"  minlength="8" maxlength="15" required>  -->
               <input type="password" id="confirm-password" placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å"  data-translate="confirm-password-placeholder" minlength="5" maxlength="21" required>
               <span class="toggle-password" data-target="#confirm-password" required>üëÅÔ∏è</span>
              </div>
            <br>
            <button type="button" value="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è" id="confirm-button"class="inactive-button" data-translate="confirm-button">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
          <!--  <button type="button" id="login-button" class="hidden">–í–û–ô–¢–ò</button> -->
            <button type="button" id="login-button" class="hidden" data-translate="login-button">–í–û–ô–¢–ò</button>
            </div>
        
            <div id="messageOk" class="messageOk"></div>
       </form>
      
    </div>
    <script src="translation.js"></script>   
    <script> function goBack() { window.history.back();  } </script>

 <script>
    document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.toggle-password').forEach(function(element) {
            element.addEventListener('click', function() {
                const targetInput = document.querySelector(this.dataset.target);
                if (targetInput.type === 'password') {
                    targetInput.type = 'text';
                    this.innerText = 'üôà'; // –ò–∑–º–µ–Ω–∏—Ç–µ –∏–∫–æ–Ω–∫—É –Ω–∞ "—Å–∫—Ä—ã—Ç—å"
                } else {
                    targetInput.type = 'password';
                    this.innerText = 'üëÅÔ∏è'; // –ò–∑–º–µ–Ω–∏—Ç–µ –∏–∫–æ–Ω–∫—É –Ω–∞ "–ø–æ–∫–∞–∑–∞—Ç—å"
                }
            });
        });
    });
    </script>  


<script>
    const urlParams = new URLSearchParams(window.location.search);
    let redirectUrl = urlParams.get('redirectUrl');
    if (redirectUrl == null) {
    // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
    redirectUrl = 'https://cor-identity-01s.cor-medical.ua';
        } 
    else {
        redirectUrl = redirectUrl.trim();
        }
    if (redirectUrl !== null) {
    redirectUrl = decodeURIComponent(redirectUrl);
    }
    

   document.addEventListener('DOMContentLoaded', function() {
    const userLang = localStorage.getItem('selectedLanguage');
    const passwordInput = document.getElementById('password');
    const confirmPasswordInput = document.getElementById('confirm-password');
    const form = document.getElementById('forgotPasswordForm');
    const messageDiv = document.getElementById('messageOk');
    const loginButton = document.getElementById('login-button');
    const confirmButton = document.getElementById('confirm-button');
    const passwordMessageDiv = document.getElementById('password-message');
    const confirmationMessageDiv = document.getElementById("confirmationMessage");

    function checkFields() {
        const isPasswordEmpty = passwordInput.value === '';
        const isConfirmPasswordEmpty = confirmPasswordInput.value === '';
        const isPasswordValidLength = passwordInput.value.length >= 6 && passwordInput.value.length <= 20;
        const userLang = localStorage.getItem('selectedLanguage');
        if (isPasswordEmpty || isConfirmPasswordEmpty || !isPasswordValidLength) {
            confirmButton.classList.add('inactive-button');
            confirmButton.disabled = true;
            loginButton.classList.add('inactive-button');
            loginButton.disabled = true;

            if (!isPasswordValidLength) {
              //  passwordMessageDiv.innerText = '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—Ç 6 –¥–æ 20 —Å–∏–º–≤–æ–ª–æ–≤';
                passwordMessageDiv.innerText = translations[userLang]['password-message'];
                passwordMessageDiv.style.color = 'red';
            } else {
                passwordMessageDiv.innerText = '';
            }

            messageDiv.innerText = ''; // –û—á–∏—â–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –ø–∞—Ä–æ–ª–µ–π
        } else {
            confirmButton.classList.remove('inactive-button');
            confirmButton.disabled = false;
            loginButton.classList.remove('inactive-button');
            loginButton.disabled = false;
            passwordMessageDiv.innerText = '';

            if (passwordInput.value !== confirmPasswordInput.value) {
               
              //  messageDiv.innerText = '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç!!!';
                messageDiv.innerText =  translations[userLang]['passwordsDoNotMatch'];
                messageDiv.style.color = 'red';
                console.log("–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç!(((");
            } else {
                console.log("–ü–∞—Ä–æ–ª–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç!))");
                messageDiv.innerText =  translations[userLang]['passwordsMatch'];
              //  messageDiv.innerText = '–ü–∞—Ä–æ–ª–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç!';
                messageDiv.style.color = 'green';
            }
        }
    }

                     // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–µ–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                                        checkFields();

                     // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–µ–π –ø—Ä–∏ –≤–≤–æ–¥–µ –¥–∞–Ω–Ω—ã—Ö
                      passwordInput.addEventListener('input', function() {
                                        checkFields();
                          if (passwordInput.value.length > 0 || confirmPasswordInput.value.length > 0) {
                               confirmationMessageDiv.innerText = ''; // –°–∫—Ä—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ø–æ—á—Ç—ã
                                             }
                                                                        });

                                         confirmPasswordInput.addEventListener('input', function() {
    checkFields();
    if (passwordInput.value.length > 0 || confirmPasswordInput.value.length > 0) {
        confirmationMessageDiv.innerText = ''; // –°–∫—Ä—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ø–æ—á—Ç—ã
    }
});

                                                   passwordInput.addEventListener('input', checkFields);
                                                   confirmPasswordInput.addEventListener('input', checkFields);



                
            confirmButton.addEventListener('click', (event) => {
            event.preventDefault();

           

            if (passwordInput.value !== confirmPasswordInput.value) {
               // alert('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç!');
             //   messageDiv.innerText = '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç!!!';
             //   messageDiv.style.color = 'red';
            } else {
               // alert('–ü–∞—Ä–æ–ª–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç');
             //   messageDiv.innerText = '–ü–∞—Ä–æ–ª–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç!';
              //  messageDiv.style.color = 'green';
                const formData = new FormData(form);
                const formDataJson = {};

                formData.forEach((value, key) => {
                    formDataJson[key] = value;
                });

                const xhr = new XMLHttpRequest();
                xhr.open("PATCH", "/api/auth/change_password"); // –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
                xhr.setRequestHeader("Content-Type", "application/json");

                xhr.onreadystatechange = function() {
                    if (xhr.readyState === XMLHttpRequest.DONE) {
                        if (xhr.status === 200) {
                            const response = JSON.parse(xhr.responseText);
                            console.log("–í–∞—à –ø–∞—Ä–æ–ª—å –æ–±–Ω–æ–≤–ª—ë–Ω.");
                           // messageDiv.innerText = response.detail || "–ü–∞—Ä–æ–ª—å –∏–∑–º–µ–Ω—ë–Ω.";
                            messageDiv.innerText = response.detail || translations[userLang]['password-changed'];
                            messageDiv.style.color = 'green';
                            confirmButton.style.display = 'none'; 
                            loginButton.style.display = 'block';
                        } else {
                            console.error("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–∞—Ä–æ–ª—è.");
                        }
                    }
                };

                xhr.send(JSON.stringify(formDataJson));
            }
        });
      
      
                                                        
                      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–í–û–ô–¢–ò"
               

                      passwordInput.addEventListener('input', checkFields);
        confirmPasswordInput.addEventListener('input', checkFields);

loginButton.addEventListener('click', () => {
   const email = document.getElementById('email').value;
   const password = document.getElementById('password').value;

   const loginDataParams = new URLSearchParams();
   loginDataParams.append('username', email); // –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ 'username'
   loginDataParams.append('password', password);

   const xhr = new XMLHttpRequest();
   xhr.open("POST", "/api/auth/login");
   xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

   xhr.onreadystatechange = function() {
       if (xhr.readyState === XMLHttpRequest.DONE) {
           if (xhr.status === 200) {
               const response = JSON.parse(xhr.responseText);
               console.log("Successful login");
               messageDiv.innerText = "Successful login"
               //messageDiv.innerText = "–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!";
            //    messageDiv.innerText =translations[userLang]['loginSuccess'];
               messageDiv.style.color = 'green';

                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞
                setTimeout(() => {

                const refreshToken = response.refresh_token;
                const accessToken = response.access_token;

                urlParams.set('access_token', accessToken);
                urlParams.set('refresh_token', refreshToken);
                
                const queryString = urlParams.toString();
                const url = `/static/mainscreen.html//?access_token=${accessToken}&refresh_token=${refreshToken}`;
                console.log("–†–µ–¥–∏—Ä–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!");
                window.location.href = url;

                }, 500);
              

           } else {  

              
                const errorMessage = getErrorMessage(xhr.status, messageDiv); // –ü–µ—Ä–µ–¥–∞–µ–º messageDiv –≤ —Ñ—É–Ω–∫—Ü–∏—é
                console.error("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ.");
                messageDiv.innerText = errorMessage;
                messageDiv.style.color = 'red';
            console.error("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ.");
          //  messageDiv.innerText = "–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞.";
            messageDiv.innerText = translations[userLang]['login-error'];
            messageDiv.style.color = 'red';
           }
       }
   };

   xhr.send(loginDataParams.toString());
});


    });


                                                                  function getErrorMessage(status, messageDiv) {
                                                                      switch(status) {
                                                                          case 401:
                                                                              messageDiv.innerText = "–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å!";
                                                                              messageDiv.style.color = 'red';
                                                                              return "–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å.";
                                                                           case 404:
                                                                             messageDiv.innerText = "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω!";
                                                                             messageDiv.style.color = 'red';
                                                                                return "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω!!!";
                                                                           case 403:
                                                                                  return "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω.";
                                                                                        // –î–æ–±–∞–≤—å—Ç–µ –¥—Ä—É–≥–∏–µ –∫–µ–π—Å—ã –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
                                                                                default:
                                                                                console.error("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ.");
                                                                                  messageDiv.innerText = "–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞";
                                                                                  messageDiv.style.color = 'red';
                                                                                     return "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ.";
                                                                                          }
                                                                                            }


               
</script>

        <script>

            function sendVerificationCode() {

                const userLang = localStorage.getItem('selectedLanguage');
                var form = document.getElementById("forgotPasswordForm");
                var emailInput = form.elements.email;
                var messageDiv = document.getElementById("message");
                var confirmationMessageDiv = document.getElementById("confirmationMessage");
                var email = emailInput.value;
                var sendCodeButton = document.getElementById('sendCodeOnMail');

                var xhr = new XMLHttpRequest();
                xhr.open("POST", "/api/auth/forgot_password");
                xhr.setRequestHeader("Content-Type", "application/json");


                

                xhr.onreadystatechange = function() {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                    if (xhr.status === 200) {
                    confirmationMessageDiv.textContent = translations[userLang]["confirmation-message"];
                    confirmationMessageDiv.style.color = 'green';

                    console.log("–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –≤–∞—à—É —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É.");
                    document.getElementById('message').style.display = 'none'; 
                    showVerificationCodeInput(); // –ü–æ–∫–∞–∑–∞—Ç—å –æ–±–ª–∞—Å—Ç—å –¥–ª—è –≤–≤–æ–¥–∞ –∫–æ–¥–∞

                    
                    startCountdown(sendCodeButton, userLang);
                    } else {         // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
                        var error = JSON.parse(xhr.responseText);
                        console.error("–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∫–æ–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–∞ –ø–æ—á—Ç—É.");
                        messageDiv.innerText = error.detail || "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∫–æ–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–∞ –ø–æ—á—Ç—É.";
                        messageDiv.style.color = 'red';

                   
                        }
                    }
                };

                xhr.send(JSON.stringify({ email: email }));
            }



            function startCountdown(button, language) {
        button.disabled = true;
        button.classList.add('inactive-button');
        
        let countdown = 30;
        button.textContent = translations[language]['send-again-countdown'].replace('{countdown}', countdown);

        const interval = setInterval(function() {
            countdown--;
            button.textContent = translations[language]['send-again-countdown'].replace('{countdown}', countdown);
            if (countdown <= 0) {
                clearInterval(interval);
                button.disabled = false;
                button.classList.remove('inactive-button');
                button.textContent = translations[language]['send-code-email'];
            }
        }, 1000);
    }



            function showVerificationCodeInput() {
                var verificationCodeWindow = document.getElementById("verificationCodeWindow");
                verificationCodeWindow.style.display = "block";

               

            }

            function verifyVerificationCode() {
                const userLang = localStorage.getItem('selectedLanguage');
                var verificationCodeInput = document.getElementById("verificationCodeInput");
                var emailInput = document.getElementById("email");
                var confirmationMessageDiv = document.getElementById("confirmationMessage");
                var form = document.getElementById("forgotPasswordForm");

                var email = emailInput.value;
                var verificationCode = verificationCodeInput.value;

                var xhr = new XMLHttpRequest();
                xhr.open("POST", "/api/auth/confirm_email");
                xhr.setRequestHeader("Content-Type", "application/json");

                xhr.onreadystatechange = function() {
                    if (xhr.readyState === XMLHttpRequest.DONE) {
                        if (xhr.status === 200) {
                            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞

                            const containers = document.querySelectorAll('.password-container');
                                containers.forEach(container => {  container.style.display = 'block';});
                                document.getElementById('sendVerifCode').style.display = 'none';
                                document.getElementById('verificationCodeInput').style.display = 'none';  
                                document.getElementById('sendCodeOnMail').style.display = 'none';  
                             //   confirmationMessageDiv.innerText = "–í–∞—à–∞ –ø–æ—á—Ç–∞ —É—Å–ø–µ—à–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞!";
                                confirmationMessageDiv.innerText = translations[userLang]["confirmationMessage"]; 
                                confirmationMessageDiv.style.color = 'green';
                                confirmationMessageDiv.style.display = 'block'; 
                              // checkFields();
                                console.log("–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤–µ—Ä–Ω—ã–π.");
                            


                        } else {
                            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
                          //  confirmationMessageDiv.innerText = "–ù–ï–í–ï–†–ù–´–ô –ö–û–î –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø!!!";
                            confirmationMessageDiv.innerText =  translations[userLang]["invalid-code"];
                            confirmationMessageDiv.style.color = 'red';
                            confirmationMessageDiv.style.display = 'block';
                           // alert('–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è!!!!!!');
                           setTimeout(function() {
                            verificationCodeInput.value = "";
                            confirmationMessageDiv.innerText = " ";
                            
                                                            }, 3000);
                            console.error("–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.");
                        }
                    }
                };

                xhr.send(JSON.stringify({ email: email, verification_code: verificationCode }));
            }
        </script>
    </body>
</html>